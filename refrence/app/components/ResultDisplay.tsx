import React, { useState } from 'react';

interface ResultDisplayProps {
  results: {
    birthdate: string;
    lifeNumber: number;
    talentNumber: number;
    birthNumber: number;
    emptyNumbers: number[];
    lifeLessonNumber: number;
    connectedLines: string[];
  };
}

const ResultDisplay: React.FC<ResultDisplayProps> = ({ results }) => {
  const [showPopup, setShowPopup] = useState(false);
  const [popupContent, setPopupContent] = useState('');

  const { birthdate, lifeNumber, talentNumber, birthNumber, emptyNumbers, connectedLines, lifeLessonNumber } = results;  

  const getRowBackgroundColor = (index: number) => {
    return index % 2 === 0 ? 'bg-green-300 dark:bg-green-500' : 'bg-pink-300 dark:bg-pink-500';
  };

  const lifeLessonDescriptions = {
    0: "你將擁有許多很好的機會，你應該好好的處理它。以個人自我為中心的追求，的確為你帶來一些個人的成就，但是你真正的幸福，是必須要為大我貢獻才能得到的，只有在為人類服務之後，你才會覺得你自己亦是這個世界的一部分。對擁有缺憾數字0的人來說，有一件事必須做到，那就是對任何事都不能心存偏見，這樣一來，你就有機會與各行各業的人交往。",
    1: "你必須學習獨立、站穩腳步。你常會遇到自己的意見與他人的需求有所不同的情況，你需要經過一番奮鬥掙扎之後才能了解到自己的意志力。你將必須堅持、信賴自己的判斷；別盲目從眾，要肯定自己。因此，你將歷經很多試煉及錯誤，有時甚至無法控制自己的情況。有時內心充滿了挫折及憤怒，一直到你內心的天賦才能有辦法處裡為止。你將會有一套自己的價值觀，你會發展成最具原創性改革性的自我。",
    2: "你太敏感且太了解別人對你的期望。你會壓抑自己別太惹人注目，又會因自我意識過強而不知所措。你亦恐懼別人對你閒言閒語，因此你會變得過度壓抑自我。這一切都是肇因於你太過於將自己的獨特性壓抑的結果，而你又總是希望自己能和大眾融合。你的感情及情緒在你的生活中扮演很大的角色，你的高度緊張會引起恐懼、膽怯、缺少自信，你將經歷一些不必要的恐懼及情緒波濤。",
    3: "你常是自己的批評者，因而容易壓抑自己的創造力及自我。每次做事之前你就懷疑自我，且在事後你又無情地批評自我，你對自我的批評往往比別人對你的批評還要嚴苛。因此，為了安全，你總是只在事物的表面上處理，很少表達你內心的思想。相反地，你總是以幽默及敷衍的言行隱藏你內心的情感。",
    4: "你有缺少組織及規律的傾向，有時會不切實際，會幻想一些不可能或是幾乎沒什麼價值的計劃。你要學著去了解什麼是可能、什麼是不可能的。如果眼界不清，就會有完成計畫的困難，也不知眼前的路該如何走。你絕對擁有實際及組織的能力，但你首先必須培養組織及實際的特質，這樣一來，你便能與每天的生活切合，並且擁有成功的籌碼。",
    5: "你會有變成｢滾石」的狀態。你想經歷各式各樣的生活、你需要自由、想嘗試很多事，並想去任何地方。小心別太沉溺於酒精、食物、藥與性之中。你必須更有耐性一點，要多了解他人，以建立且維持長久的關係，這可以幫助你結交更好的朋友。你要能處理一些不符你要求的情況，但也要學習冒險的精神。",
    6: "你的理想太高、不真實，會使得生活對你及他人來講較為困難。有一段時間你對自己做的事及別人做的事都感不滿，有時缺少感謝之心，會使你看不見生活中的好。有些僵硬的思想亦會使你無法有清楚的透視力，很可惜，因為這些清楚的透視力或許能幫助你從已接受之事中得到一些啟示。",
    7: "你對於任何尚未證明的事都抱持懷疑的態度，特別是懷疑那些與精神層面有關的事，因此內心較不易尋求出個人的哲學來平靜地面對你的人生。你壓抑了許多內心自然的愛好，因為它們並不合於你理性的思考，你內心童稚似的天性亦被你壓抑住了。每一個人生命中一些不合理或哲學方面的整體思考，如精神、幽默、逗趣、直覺等特色都時常會被你排拒在外。",
    8: "你的人生會因賺錢或奪得權力而冒險，有時對財富的欲望會使得你的個性及精神層面相形失色，亦影響了其他你做的每一件事。不要嘗試著想把一切轉變成財富，這會使你因此而必須承受孤獨，且將面臨精神的考驗，亦將會了解：人不是光靠麵包就可以活著，如果你能克服這個困難，便能達到物質與精神間的平衡。",
    9: "你可能會有一種感覺，覺得自己與周圍的環境格格不入。這可能導致你感到孤立或不被理解。你的挑戰是學會接受和欣賞你的獨特性，同時也要學會與他人建立聯繫。你有強烈的同情心和對人性的深刻理解，這些都是你的優勢。學會運用這些優勢來幫助他人，你將發現自己的人生目的。"
  };
  
  const fromOthersEyes = {
    1: "通常被視為具有領導力和創造力的特質。您自信、獨立，勇於追求目標，並充滿開拓精神。您在團體中常扮演領袖角色，擅長制定計劃並帶領他人前進。對於您來說，自我實現與成功至關重要，因此您充滿動力且執行力強。然而，1號的人也可能過於自我中心或缺乏耐性，需要學會平衡與他人的互動，並接受不同的觀點。",
    2: "被認為溫柔、善解人意，並具有高度的同理心。您擅長與人合作，富有協調能力，能夠在團隊中扮演和平締造者的角色。您重視關係與情感，具有直覺力，常能敏銳地感知他人的需求或情緒。2號的人渴望和諧，喜歡支持他人，卻可能因過於迎合或害怕衝突而忽略自身需求。您需要學會在付出與保護自己之間找到平衡，展現內在的力量與智慧。",
    3: "常被視為充滿創意、幽默和感染力的人。您天生樂觀，擅長表達自己，無論是透過言語、藝術還是表演，都能吸引他人的注意。您喜愛生活中的美好事物，帶給人歡樂與靈感，並能輕鬆活躍氣氛。然而，3號的人有時可能過於分心或情緒化，缺乏長期專注力。您需要學會自律與深思，將自己的創造力與實際行動結合，才能實現更大的成就和滿足感。",
    4: "在他人眼中是務實、可靠且勤奮的象徵。您重視結構與秩序，擅長計劃與執行，是團體中的穩定力量。4號的人有強烈的責任感，樂於踏實努力，追求長期穩定的成就。您的腳踏實地和耐心常讓人感到安心，值得信賴。然而，您有時可能顯得過於保守或固執，不善於適應變化。您需要學會在堅守原則與接受新事物之間取得平衡，以更靈活地應對生活中的挑戰。",
    5: "在他人眼中是充滿活力、冒險精神和自由追求的人。您熱愛新鮮事物，擅長適應變化，並擁有極強的好奇心與探索欲望。5號的人善於與人溝通，總能帶來新奇的點子和歡樂的氣氛。然而，您有時可能顯得過於衝動或不安於現狀，缺乏長期的承諾和穩定性。您需要學會平衡自由與責任，將自己的熱情與行動力聚焦在有意義的目標上，才能充分發揮潛力。",
    6: "在他人眼中是充滿愛心、責任感與溫暖的人。您重視家庭與人際關係，樂於照顧他人，常扮演支持者或仲裁者的角色。您具有強烈的同理心，追求和諧與美好，善於營造溫馨的環境。然而，6號的人可能過於犧牲自我或對他人要求過高，容易因過度關心而感到壓力。您需要學會設立界限，平衡對他人與自身的關注，以確保自己的情感健康與幸福。",
    7: "在他人眼中是神秘、深思熟慮且充滿智慧的人。您喜歡探究人生的真相，擁有強烈的求知慾和直覺力，常給人深不可測的印象。7號的人偏愛獨立與內省，擅長分析與解決問題，是思想的探索者。然而，您可能因過於內向或追求完美而顯得孤僻或難以親近。您需要學會平衡理性與感性，適度敞開心扉，讓他人了解您深厚的內在世界與豐富的洞察力。",
    8: "在他人眼中是有野心、果斷且充滿影響力的人。您天生具備領導能力，擅長管理資源與追求成功，對目標有強大的執行力與決心。8號的人常給人自信與權威的印象，並以實際成就贏得他人的尊重。然而，您有時可能顯得過於強勢或過度專注於物質成就，而忽略內在平衡與情感需求。您需要學會以更柔和的方式展現力量，並兼顧人際關係與內心的滿足，達到真正的圓滿成功。",
    9: "在他人眼中是充滿愛與智慧的理想主義者。您具有博愛精神，重視人類的共同福祉，經常為他人付出，展現無私的特質。9號的人擁有豐富的同情心與洞察力，能夠看到事物的本質，並對世界抱有宏大的願景。然而，您有時可能顯得過於感性或不切實際，容易陷入情感的困境。您需要學會在理想與現實之間找到平衡，並善待自己，才能更好地實現心中的使命。"
  };

  const threeCombination = {
    10:"10/1的人聰明能幹，外向、好動且好強，凡事都力求第一。您喜歡發號施令，性格堅強且富有決心，擁有強烈的企圖心和冒險精神，工作勤奮並負責任。具備強大的執行力，對追求目標十分清晰，能克服困難堅持到底。然而，您也可能表現出急躁和情緒難以控制的一面，容易做出超出自己能力的承諾。工作狂的性格使您經常精力透支，忽略其他生活方面，對自己的要求過於苛刻。",
    1910:"19/10/1的人擅長組織和規劃，具有優秀的決策能力，經常為他人提供建議。您自信、急躁且具侵略性，追求高度成就，堅決按照自己的意願行事。擁有藝術眼光和創作才能，對美的事物有很好的鑒賞力，且能掌握最新潮流。您勇敢、果斷、做事有條理且高效，擁有強烈的理念和理想。然而，個性較大而化之，不注重細節，情緒波動較大，可能在解決他人問題的同時忽視了自己的困擾。",
    2810:"28/10/1的人誠實、大方、坦誠，做事幹脆，勇於冒險，懂得把握機會。您感情深刻，富有愛心，樂於助人，具有強烈的目標導向和創造力，追求權力，喜歡主導和控制事務，並積極建立自己的事業。個性堅強，具領導才能，熱情慷慨，野心勃勃，耐心和持續力強。雖然固執且不善交際，容易受傷，但您對自己的判斷能力很有信心，對親友特別好。主觀意識強，往往不願接受批評和改變。",
    3710:"37/10/1的人活力充沛，自尊心強，充滿理想，聰明能幹，擁有良好的人際關係。您善於表達和說服別人，熱情、大膽，意志堅強，具冒險精神，熱愛文學、音樂、藝術和旅行，擁有創作才華。具備出色的領導和管理能力，能抓住機會獲得成功。雖然有強烈的企圖心和創造力，但容易分散注意力，給自己過大壓力，情緒容易失控，對錯誤反應過度，喜歡掌控事務，並常逃避問題解決。",
    4610:"46/10/1的人感性且善於控制行為，展現優雅特質。您知識豐富，多才多藝，能夠自我檢討並不斷改進。擁有雙重個性，表面成熟、大方、開朗，內心卻常感孤獨和憂鬱。在壓力下能冷靜面對，具有豐富的想像力和同情心。意志堅定，刻苦耐勞，執行力強，能將理想付諸實現。您情緒化，容易因顧慮他人感受而猶豫不決，情感挫折後需要時間恢復。",
    11:"11/2的人意志堅強，行動力強，忠實可靠，具有出色的分析和判斷能力，受到尊重。您擁有高度的領導能力和強烈的企圖心，追求挑戰，喜歡解決問題，個性複雜且情緒化。聰明且富有同情心，精力充沛，但主觀意識過強，難以接受他人意見。在面對壓力時，可能會挑剔他人或對責任過度承擔。您的野心可能引起嫉妒，且有時過於自我中心，缺乏對他人感受的關注。",
    20:"20/2的人細心、溫柔、善解人意，言行舉止富有魅力，能給人留下良好的印象。您感情豐富，擁有冷靜的思考能力，對音樂和藝術有天賦，擅長洞察他人的心理。喜歡與熟人閒聊，天性不愛表達意見，卻樂於學習和吸收新知識。相當上進，能夠吃苦耐勞，懂得抓住機會以獲得成功。然而，您相當情緒化，容易受傷害，防衛心重，敏感且情緒起伏較大，對批評難以接受，缺乏安全感。",
    2911:"29/11/2的人注重紀律，專注於工作，外表優雅輕鬆。您熱愛自由，感情豐富，個性獨立且聰明，擁有悲天憫人的胸懷和強烈的使命感。藝術才華出眾，具有遠見和理想，且擁有與眾不同的看法和想法，表現出色。您敏感且情緒化，對愛情和人生充滿熱情。個性溫柔、負責任，具同情心和很好的想像力。儘管才華橫溢，但情緒波動大，容易感到焦慮，性格內向高傲，人際關係上易被孤立，難以適應壓力。",
    3811:"38/11/2的人目標明確，做事追求完美，是典型的工作狂，常達到廢寝忘食的境界。您專注工作，個性堅強，善於創新和改善事物，擁有優秀的社交和管理才能。雖然性格溫柔且具想像力，但您在各場合中常居主導地位，具說服力和煽動他人情緒的能力。您感性且有直覺，能激發他人興趣。然而，對自己要求過高，容易過度緊張，對別人的標準過於挑剔，且不容易接受批評，容易在壓力下變得情緒化。",
    4711:"47/11/2的人情感豐富且慷慨，熱心幫助他人，擅長給予建議和支持。您擁有卓越的記憶力和判斷能力，並注重外表和個人隱私。性格溫柔、富有同情心，善於合作，有良好的耐力和毅力。缺點是容易情緒化，固執己見，愛批評他人，不易接受意見，對威權過於重視，個性上較嚴肅。總體而言，您是才華橫溢且高效的人，樂於學習和成長。",
    12:"12/3的人積極樂觀，擁有高理想和抱負，個性迷人且擅長社交。您心思靈敏，敏感而有企圖心，能夠開創大事業，具備藝術天分和優雅的成熟氣質，適合擔任領導角色。性格活潑、才華洋溢，充滿勇氣，善於自我表現，意志堅強。然而，您有時猶豫不決，情感執著，對逆境固執，缺乏自我反省，遇衝突時拒絕溝通。總體而言，您是充滿野心與創造力的個體。",
    21:"21/3的人個性獨立，領悟力極高，做事熱忱且精心規劃，常達專業水準。您聰明且有遠見，具有開創革新的能力，勇於接受挑戰，並擁有犧牲奉獻的精神。性格方面，您創意豐富，胸襟寬廣，有勇氣和膽識，且對美的事物具備鑒賞力。擁有出色的領導和管理能力，果敢且決斷力強。然而，這類型的人也比較獨斷，自我壓抑，對自己要求嚴苛，且對他人的控制欲強，不願接受幫助。",
    30:"30/3的人聰明且具高智商，擁有出色的創意和想像力，追求富裕的生活。雖然外表酷酷的，內心卻很敏感，社會適應力強，對生活持輕鬆態度。您喜歡隨心所欲，熱衷於批評時事和參與公眾事務，口才伶俐，擅長表達。個性熱情、好奇且具品味，但也有急躁、自我放縱和自私的一面，對他人的意見不易接受，容易捲入是非，情緒控制不足。",
    3912:"39/12/3的人聰明且悟性強，擅長說服和外交，具同情心與奉獻精神。您有崇高理想，並為之行動，擁有藝術才華，擅長規劃與設計。性格優雅成熟，重感情，熱愛生活且渴望成功，受人歡迎。具備解決問題的智慧和強大的整合能力，個性充滿熱忱與魅力。然而，您喜愛爭辯，不願接受他人意見，主觀且苛求，容易衝動，且工作狂的特質使您忽略生活中的其他事物。",
    4812:"48/12/3的人志向遠大，理想崇高，對任何事都堅持到底，具有強烈的使命感。您善於說服他人，具備卓越的社交能力、獨立思考和行動能力，個性直率且富有魅力。勇於接受挑戰，能克服困難獲得成功，重視承諾並守信用，對人性有深刻理解。然而，您有時過於求好，喜歡爭辯，容易因未達目標而沮喪。個性強勢，易固執己見，給自己施加壓力，並可能偏向物質主義，難以接受他人建議。",
    4:"4/4的人充滿自信且衝動，具有強烈的叛逆性和爆發力。您重視榮譽與責任，勇於承擔，不怕失敗，個性傳統保守且注重隱私，喜歡獨自行動。具企圖心，擁有穩重氣質和卓越規劃能力，樂於教導他人。意志堅強，熱心關懷他人，值得信賴，並不斷追求改革和自我提升。然而，您也可能過於固執，不易接受批評，對得失心重，容易孤獨和自傲，給自己施加過大壓力，並常不聽取他人建議。",
    13:"13/4的人外表獨立勇敢，喜歡不按傳統行事，對新事物和資訊充滿興趣。您做事認真，對自己和他人要求甚高，具備開創能力和表演天分，擁有良好的人緣和影響力。這類人有堅強的毅力，能在挫折中重新振作，熱愛挑戰與冒險。然而，您也可能因叛逆和不切實際而感到孤獨，性格不穩定，經常感到憤怒和沮喪。此外，您的理想化傾向可能使您忽視日常事務，並在冒險中面臨危險。",
    22:"22/4的人擁有豐富的想像力和學習熱情，商業頭腦一流，善於組織與管理。您心智靈敏，邏輯能力出色，觀察力敏銳，能一針見血地評論事情。此類人追求穩定的生活，個性直率大膽，工作目標導向且擅長財務管理。然而，您情緒化，對感情衝動，且性格兩極，無主見又善變，容易沉醉於權力欲望中，情緒控制不良。固執己見，缺乏彈性，且常因嫉妒和佔有欲而指揮和批評他人。",
    31:"31/4的人外表聰明且內心堅強，具備優秀的領導能力，喜歡隨心所欲地生活。您熱心幫助他人，樂於分享自己的看法，並對新事物充滿好奇心。此類人執著、行動快速，擁有強烈的企圖心，能排除萬難追求目標。您具有開拓和冒險精神，創意十足且慷慨大方。然而，自我中心和驕傲使您固執己見，情緒變化不定，面對挫折容易沮喪，對人下斷語時缺乏耐性，並常拒絕溝通。",
    40:"40/4的人外表冷靜，但內心渴望成功，追求事業的高峰。您充滿自信，聰明才智，善於分析和解決問題，並希望以最少的努力獲得最大成果。講求實際，注重紀律，做事有計劃且全力以赴。面對挫折時能迅速重整旗鼓，負責任且忠誠。然而，您過於自負，對他人意見接受度低，情緒容易焦慮不穩，做事太過標準化，缺乏靈活性。",
    5:"5/5的人非常聰明，智商高且反應靈敏，對外在環境敏感，追求完美。您好奇心重，喜歡學習與研究，結交各式朋友，擁有廣泛的人脈。具冒險精神，能掌握未來趨勢並迅速行動，思路敏銳且洞察力強。生活充滿熱忱，溝通能力強，善於把握機會。然而，您不喜歡承諾，衝動而不夠冷靜，自以為是，容易緊張且不安定，興趣多變，行事不按計劃。",
    14:"14/5的人聰明且有個性，較為傳統守舊，為人正派，行事獨特且崇尚自由。您對感情和心智非常敏感，具備敏銳的觀察力和表達能力，充滿自信，追求精神上的滿足。思想敏銳，精力旺盛，能全神貫注地工作。個性堅強獨立，喜歡表達想法，但最怕被誤解。優點包括良好的創新能力和溝通技巧，勤奮且樂於助人。然而，您的缺點是過於注重自我形象，容易受到情感傷害，堅持己見且不易妥協。",
    23:"23/5的人外表和善、反應敏捷，對工作專注且認真，能獨立與他人合作，並能迅速從挫折中恢復。您對外界反應敏感，具高度彈性，擅長解決問題。擁有豐富的知識和研究精神，喜歡辯論，並有激勵他人的崇高理想。個性中，直覺強、好奇心重，口才佳，善於溝通。優點是充滿自信和創意，但缺點則是過於自負、固執和缺乏耐性，情緒多變且喜歡批評他人，對別人的期望過高。",
    32:"32/5的人聰明、活潑且思想敏銳，重視傳統和紀律，追求完美與尊重。您具備釋放潛能的能力，理性與感性兼具，擅長社交且主動積極，擁有強烈的好勝心。這類人情感豐富，人際關係良好，容易與人建立親密連結。具領導力與影響力，關心社會並注重道德。然而，您也可能面臨內心思維混亂，缺乏耐性，易因急躁而忽略自身需求，對他人感情問題介入過多，並在追求成功時可能忽視他人的感受。",
    41:"41/5的人外表成熟，內在獨立，整體熱情，擅於協調事物。您做事有計畫且全力以赴，善於自製與管理。具有出色的口才，善於演說、評論，並在文學、藝術、音樂等方面有才華。思想敏捷、謹慎小心，對自己充滿自信。樂於幫助弱者，具有雄心，喜愛研究和追求新知。您組織和管理能力強，擅長交際，口才極佳，具有個人魅力。然而，個性太強、不易妥協，對事物要求過高，容易衝動、情緒緊張，且有時缺乏彈性。",
    6:"6/6的人浪漫、感性且執著，個性隨和，但內心情緒複雜。您崇拜英雄並渴望成為英雄，對愛情非常認真投入，且具備良好的人緣，廣受歡迎。對感情願意奉獻，也希望得到同等回報。渴望愛與關懷，具有成為公眾人物的潛質。熱情、大方、迷人，默默影響他人，內心充滿理想與服務社會的精神。雖然聰明且追求完美，但容易沉迷物質生活和名望的追求，內心常感不安，感情複雜，嫉妒心與佔有欲強，難以找到理想與現實的平衡。",
    15:"15/6的人非常受歡迎，擁有極佳的創作才華。外表陽光，內心浪漫，待人熱心且善解人意。您個性迷人，擅長社交，口才出眾，對愛情敏感而富有熱情。對新奇事物充滿好奇，喜歡多變化的生活，擁有藝術眼光和審美能力，並且具備遠見與野心，會努力實現自己的目標和理想。注重物質享受，懂得運用資源來達成目的。雖然充滿活力和創造力，但容易自我中心，情緒不穩定，衝動且善妒，過於重視物質生活，控制欲強，令人難以捉摸。",
    24:"24/6的人天性崇尚美麗，擁有和善的外表，兼具感性與理想主義，能一步步將理想變為現實。您人際關係良好，交友廣闊，對美好的事物特別敏感，擁有優秀的品味和審美觀。為了愛情和理想，甘願付出與犧牲，性格溫柔、優雅，外表吸引人。情感豐富、容易受感動，擁有藝術才華和靈感，追求和諧和完美的人生。您知識豐富，擅長教導和激勵他人。優點是多才多藝，但太過敏感和情緒化，容易失去行動力，孤獨且缺乏分享。",
    33:"33/6的人喜歡創新和實驗，能接受新奇的想法，感性且富有想像力，擅長社交並受人歡迎。您聰明，能找到解決問題的最佳方法，並且充滿靈感和藝術才華。具有豐富的知識，懂得教導和激勵他人，擁有強大的表達能力。浪漫感性，重視家庭，追求生活穩定。觀察力敏銳，能一針見血地批判事物。內心渴望愛與關懷，熱情、溫柔，個性迷人。缺點是想法太多，容易不切實際，主觀意識強，不易接受他人意見，情緒化且言詞尖銳。",
    42:"42/6的人充滿浪漫和衝動，無論在事業或愛情方面，內心充滿愛、犧牲與奉獻。您具有慈悲心，頭腦靈敏，個性溫和且謹慎，富有藝術氣質和想像力。開朗、理想化，追求單純生活，注重生活情調，勇於追求夢想與新奇事物。對愛情非常投入，感情豐富，擅長某種專長或手藝，熱愛家庭並喜歡學習。缺點是過於純真且不切實際，容易為愛自我犧牲，期望過高，情緒不穩定，容易被感動和受到傷害，佔有欲強，常陷入感情與理智的衝突。",
    7:"7/7的人擁有豐富的夢想和想法，並且能夠將其付諸實現。您行事謹慎、有計劃，擅長理財，意志堅定，全力追求目標和理想，具備優秀的判斷和分析能力，特別是在工作中。忠於自己的信仰，願意為理想奮鬥，並對任何事物全力以赴。7/7的人擁有遠見、充滿自信，能夠把握時機並獲得成功。缺點是過於敏感，性格比較孤僻，不易與人親近。經常在錯誤的方向尋找答案，容易感到焦慮和緊張，且害怕遭到拒絕。悲觀情緒容易出現，主觀強，不易接受他人意見。",
    16:"16/7的人充滿夢想和想法，敢於表達和冒險，追求高度成就，但也可能面臨風險。意志堅定、富有理想，擁有面對挑戰的勇氣和創造力，並且對成功有強烈企圖心。您具備將抽象概念轉化為具體行動的能力，充滿夢想並善於應變。這類人理想崇高，追求自我實現，不畏懼困難和危險，專注於過程而非結果。然而，您容易給自己過大的壓力，遇到挫折時會感到抑鬱。由於過度理想化，對他人的要求較高，難以相處。情感豐富，容易沉醉於往事，主觀意識強，不易接受他人意見，且想法過多不切實際。",
    25:"25/7的人喜歡新奇和變化，熱愛冒險並嘗試新事物，擁有廣泛的興趣和強烈的好奇心。您才華出眾，具有豐富的想像力和創意，意志堅定且有毅力，喜歡旅行和充滿變化的生活。您充滿熱忱與活力，勇於追求夢想和挑戰，並且有天生的表達與表演能力。這類人言之有物，說話令人愉快，並且重視生活品味，擁有藝術天分，適合在職場發展。然而，您容易放縱自己，生活品質波動大。過於理想化，情緒不穩定，渴望他人的關注，且缺乏穩定性，容易情緒化，導致事業發展不穩定。",
    34:"34/7的人開朗勇敢，靈活且有彈性，喜歡幻想和創新，生活中充滿波折和變化，但您能夠坦然面對。擁有豐富的想像力和實際的處事能力，對自己充滿自信，勇於接受生活中的挑戰。這類人追求理想，具備遠見，並能夠將夢想付諸實現。您善於投資，無論在金錢、事業或家庭方面都能成功，懂得長期計畫而不急於求成。然而，遇到不如意時，容易陷入低潮且難以自拔。您比較內向，沉醉於自我想像中，且不易聽取他人意見。懷疑心重，顧慮過多，缺乏果斷性，常不願承擔責任與風險。",
    43:"43/7的人腳踏實地，充滿理想，能夠堅持自己的信念，追求自我實現，並重視過程而不計後果。擁有毅力克服各種困難和挑戰，具備豐富的想像力和創意，個性堅定且獨立，事業心重，成就顯著。您有優秀的表演才華和溝通能力，具有獨特的魅力和自信。雖然理想高，但有時夢想不切實際，對他人不易信任，性格直率，容易得罪人。敏感且善變，主觀意識強，缺乏彈性，容易半途而廢。",
    8:"8/8的人擁有強烈的野心，清楚了解自己的目標，並具備無比的毅力，能克服各種困難以獲得成功。性格內向、敏感，追求物質生活的享受，勤奮認真且充滿幹勁。雖然理想高但實際，意志堅定且專注。具領導才能，擅長規劃與設計，企圖心強，喜歡指揮他人。優點是思考與判斷能力佳，但一旦掌權容易變得霸道專斷，缺乏彈性，感情表現不易，常感孤獨，且對他人幫助心存抵觸。",
    17:"17/8的人個性獨立、負責任，意志堅強且充滿理想與鬥志，執行力強，堅持到底。具保守踏實的特質，能夠敏銳、精明地分析事物，並喜歡評論，具有煽動力和影響力。做事條理清晰，兼顧感性與理性，追求公平合理，注重細節且善於理財。擁有高度的智慧，尤其在科學和藝術方面成就卓越。責任心強，但有時過於謹慎，缺乏彈性，對他人有時過於敏感和多疑，做事容易感到緊張。",
    26:"26/8的人外表平和，內心感性且堅強，具有理想並付諸實現。對人敏銳，擅長掌握時勢，喜歡伸張正義，熱心於公益活動，關懷他人。儘管表面害羞冷靜，內心渴望成功，充滿自信和才華。擁有良好的分辨和判斷能力，人際關係優良，具同情心和社會責任感，會全力以赴追求成功。雖然情緒不穩定，個性被動，易妥協，但對別人要求嚴格，潛在有控制他人的傾向。",
    35:"35/8的人積極、慷慨、熱情，具雄心大志，做事拼勁十足。您擅長開發新制度與業務，直言不諱，知識豐富，口才極佳，善於表達自己的意見，具有強大的說服力，適合擔任公眾發言人。擁有良好的判斷與決策能力，意志堅定、個性獨立，精力充沛，樂於幫助他人。雖然缺乏紀律和團隊觀念，容易批評與八卦，且在順境中可能自負，但您的領導力和創造力使您在工作中表現出色。",
    44:"44/8的人容易專注於某個領域，展現出專業形象，並具備迷人的魅力，能夠獲得極大的成就。您熱心、負責、誠實且意志堅強，追求簡單化的生活，並喜歡掌控事務。具有強大的領導才能和團隊經營能力，為人公平公正，能帶給他人安全感。然而，您有時固執且缺乏彈性，生活可能因此變得單調，情緒上也不容易放鬆。您在順境中可能過於注重物質享受，並對人際關係持有目的性。",
    9:"9/9的人擁有孩子般的純真與勇氣，對新奇和刺激充滿熱情，並且以實際行動實現創意。您公正無私，樂於為弱勢團體發聲，知識淵博且喜歡教導他人。個性坦誠直率，對家庭和朋友忠實，常成為問題的良好顧問。擁有強烈的道德感與責任心，意志堅定，情感豐富。然而，您也容易衝動與情緒化，對自我的要求過高，可能難以接受他人的意見，並有時利用他人的善意獲取利益。",
    18:"18/9的人個性剛烈且堅持不懈，強烈的企圖心使您專注於事業發展，展現高度的工作熱情和活力。您充滿鬥志，善於傳達理念，並樂於接受冒險與挑戰。對家人和朋友忠誠，重視榮譽與公眾形象，具備敏銳的觀察力和決策能力。然而，您也可能顯得固執，缺乏彈性，並容易受到外界干擾而分心。衝動和自我中心的特質使您不易接受不同的意見，並可能引發衝突。",
    27:"27/9的人充滿活力，具備卓越的創意和洞察力，能夠預見未來的發展藍圖。您多才多藝，具有強烈的企圖心，並以實際行動追求目標。個性魅力十足，善於默默地支持他人，並期望成為有用之人，而非追求名聲。儘管意志堅強且冷靜，您在情緒上較為敏感，容易受到環境影響，且對細節過於在意。由於防禦心強，不易接受他人觀點，可能使您顯得難以接近。",
    36:"36/9的人聰明且早熟，擁有卓越的天賦和才華。您具備極高的領悟力和直覺能力，並且行動迅速。這些人充滿野心，勇於超越他人，能將理想付諸實現。思路清晰，講求邏輯，並勇於批評，追求正義。然而，您可能表現出衝動和孩子氣的一面，缺乏耐心，並且容易以自我為中心，與他人產生衝突。在逆境中，情緒波動較大，對自我要求極高，常感到嫉妒和生氣。",
    45:"45/9的人外表成熟穩重，內心卻常憑感覺行事，熱愛冒險與旅行。您活力充沛、野心勃勃，意志力堅強，擁有良好的學習能力和實驗精神。具備獨特的思想和機智，對社會動態敏感，溝通能力強，常堅持己見，喜歡說服他人。然而，您也可能表現出衝動和情緒化的一面，脾氣難以控制，對外界批評不夠寬容。過於自我中心，佔有欲強，喜歡與人爭辯，容易讓他人感到難以相處。"
  }

  const lifeNumberDescriptions = {
    1: `
      <h2 class="text-2xl font-bold mb-4 text-green-700">生命靈數的意義 1</h2>
      
      <h3 class="text-xl font-semibold mb-2">能量特質</h3>
      <p class="mb-2"><span class="font-bold">（+）</span>擁有無中生有的創造力，獨立性強，外向而積極 勇於表達自己的意見，有主見，有擔當能力 有群眾魅力，是個天生的領導者</p>
      <p class="mb-4"><span class="font-bold">（-）</span>固執、好勝心強、重面子</p>
      
      <h3 class="text-xl font-semibold mb-2 text-red-600">先問我</h3>
      
      <h3 class="text-xl font-semibold mb-2">能量課題</h3>
      <p class="mb-4">真正的領導者，會致力於改善追隨者的生活， 如果能從利於他人的角度出發，為人付出， 用柔軟寬大的方式，必能為您帶來財富與名望。</p>
      
      <p class="mb-2"><span class="font-bold">◎領導者（有追隨者）：</span>喊口號與理念，不要成為讓人有壓力的管理者</p>
      <p><span class="font-bold">◎重面子：</span>公開稱讚或私下透過第三者→讓他知道我們對他的讚賞認同</p>
    `,
    2: `
      <h2 class="text-2xl font-bold mb-4 text-green-700">生命靈數 2</h2>
      
      <h3 class="text-xl font-semibold mb-2">能量特質</h3>
      <p class="mb-2"><span class="font-bold">（+）</span>適應力強・順從性佳，與人合作溝通協調能力佳 溫和細心・重視細節，可以看到別人看不到的 有能力看出事情的問題，分析能力佳</p>
      <p class="mb-4"><span class="font-bold">（-）</span>無主見・依賴不喜歡獨處，為反對而反對</p>
      
      <h3 class="text-xl font-semibold mb-2 text-red-600">你決定就好</h3>
      
      <h3 class="text-xl font-semibold mb-2">能量課題</h3>
      <p class="mb-4">一個明快的決定，勝過於拖泥帶水，發揮善於分析的天性 建立一個健康的模式，如果認為情況有異，應當機立斷， 不要遲疑，用積極主動的態度面對並解決問題。</p>
      
      <p class="mb-2"><span class="font-bold">◎因重視細節+能細心看出問題→</span>所以容易小题大作</p>
      <p><span class="font-bold">◎爭吵時：</span>對方有2→事情與情緒應當場處理，沒2→情緒緩和了再處理</p>
    `,
    3: `
      <h2 class="text-2xl font-bold mb-4 text-green-700">生命靈數 3</h2>
      
      <h3 class="text-xl font-semibold mb-2">能量特質</h3>
      <p class="mb-2"><span class="font-bold">（+）</span>有創意點子王・樂觀進取・很容易帶給人快樂・溝通能力強 有其獨特的價值觀，理想化求完美</p>
      <p class="mb-4"><span class="font-bold">（-）</span>任性・無法完整表達・期待別人變成自己想要的模樣</p>
      
      <h3 class="text-xl font-semibold mb-2 text-red-600">我知道我要什麼</h3>
      
      <h3 class="text-xl font-semibold mb-2">能量課題</h3>
      <p class="mb-4">世上沒有絕對的完美，珍惜眼前擁有的人事物， 要克服內心覺得自己不夠好的的自我挑剔， 努力發揮自己的天份，實踐理想與夢想。</p>
      
      <p><span class="font-bold">◎與3多者互動第一時間：</span>認同對方的情緒與價值觀(同一國的) 當感受到同一國後→再給適當的建議</p>
    `,
    4: `
      <h2 class="text-2xl font-bold mb-4 text-green-700">生命靈數 4</h2>
      
      <h3 class="text-xl font-semibold mb-2">能量特質</h3>
      <p class="mb-2"><span class="font-bold">（+）</span>四平八穩重安全感・行事有規劃，建設性 對事的組織能力強，理財好手，重視金錢與物質 誠實而值得信賴</p>
      <p class="mb-4"><span class="font-bold">（-）</span>缺乏安全感・保守・內向・情緒化・害怕冒險</p>
      
      <h3 class="text-xl font-semibold mb-2 text-red-600">要眼見為憑</h3>
      
      <h3 class="text-xl font-semibold mb-2">能量課題</h3>
      <p class="mb-4">全力建構自己內在的安全感，學習願意承擔風險， 願意接受改變，若能把改變當作個人成長的契機， 發揮其組織規劃能力，付諸行動，必得成功的人生。</p>
      
      <p class="mb-2"><span class="font-bold">◎能把自己與別人的想法→</span>變成可以被執行的步驟</p>
      <p><span class="font-bold">◎沒有4→</span>若要成大事，多問問做得好的人→幫忙規劃有效的步驟</p>
    `,
    5: `
      <h2 class="text-2xl font-bold mb-4 text-green-700">生命靈數 5</h2>
      
      <h3 class="text-xl font-semibold mb-2">能量特質</h3>
      <p class="mb-2"><span class="font-bold">（+）</span>能量從中間向四方放射，喜歡變化・嘗新・愛好自由 善於觀察市場動向・創意十足・能言善道・5號與3號 都是很好的講師，是業務行銷的高手，直覺力強</p>
      <p class="mb-4"><span class="font-bold">（-）</span>害怕不自由・不喜歡被約束 可能會因為某些因素而封閉自己，不與人互動</p>
      
      <h3 class="text-xl font-semibold mb-2 text-red-600">再看看吧！</h3>
      
      <h3 class="text-xl font-semibold mb-2">能量課題</h3>
      <p class="mb-4">如果毫無目標，隨遇而安，假裝無憂無慮，但內心不快樂 就會愈想擺脫束縛，逃避承諾，就愈不容易成功， 若能專心鎖住目標，有所選擇與犧牲， 不但能更容易獲得成功，也更能擁有想要的自在。</p>
      
      <p class="mb-2"><span class="font-bold">◎學習開發自己的靈感與直覺力</span></p>
      <p><span class="font-bold">◎若能讓自己</span>往外動起來→快樂成就，勉強靜下來→容易憂鬱</p>
    `,
    6: `
      <h2 class="text-2xl font-bold mb-4 text-green-700">生命靈數 6</h2>
      
      <h3 class="text-xl font-semibold mb-2">能量特質</h3>
      <p class="mb-2"><span class="font-bold">（+）</span>很有同情愛心、耐心・熱愛生命關懷他人 很會照顧別人・敏感性高，善於分析・修理東西 很適合當醫護人員與治療師</p>
      <p class="mb-4"><span class="font-bold">（-）</span>若濫用同情心與愛心，不但會覺得自己受傷 而且會覺得別人虧欠他，當過度犧牲→反而需要被治療 沒辦法說不</p>
      
      <h3 class="text-xl font-semibold mb-2">能量課題</h3>
      <p class="mb-4">先解決自己的問題，再談解決別人的問題， 在解決別人間題的同時，別做太多，多給別人學習成長的 機會，在自己還不夠好時，可能需遠離有問題的人事物。</p>
      
      <p><span class="font-bold">◎年輕的靈魂，</span>還有著在伊甸園裡~人我互動的平衡認知</p>
    `,
    7: `
      <h2 class="text-2xl font-bold mb-4 text-green-700">生命靈數 7</h2>
      
      <h3 class="text-xl font-semibold mb-2">能量特質</h3>
      <p class="mb-2"><span class="font-bold">（+）</span>LUCKY 7~上帝的左右手，只要願意用點心就會有天助 分析判斷質疑的能力很強(律師特質)~不要欺騙他 天生好奇·探求真理的能力很強</p>
      <p class="mb-4"><span class="font-bold">（-）</span>因願意用點心就會有天助，所以容易懶情・守株待兔 質疑他人的同時，也容易質疑自己</p>
      
      <h3 class="text-xl font-semibold mb-2 text-red-600">真的嗎?</h3>
      
      <h3 class="text-xl font-semibold mb-2">能量課題</h3>
      <p class="mb-4">如果心想：輕鬆平凡走完一生，覺得遇到麻煩時， 會有幸運之神的眷顧，反而會變得極不快樂， 應接受事實真相，面對問題，並採取行動解決它。</p>
      
      <p class="mb-2"><span class="font-bold">◎有7：</span>容易質疑自己，沒7：容易相信別人與自己→相對較有自信</p>
      <p><span class="font-bold">◎有7：</span>帶著使命來→應多做些助人的工作</p>
      <p><span class="font-bold">沒7：</span>若能多做些助人的工作→會有更多天助的好運</p>
    `,
    8: `
      <h2 class="text-2xl font-bold mb-4 text-green-700">生命靈數 8</h2>
      
      <h3 class="text-xl font-semibold mb-2">能量特質</h3>
      <p class="mb-2"><span class="font-bold">（+）</span>老闆・格局大，看事情的高度較全面 財經專家・洞悉分析利潤・決策果決 會想無私地培育人才・個性剛強，但表現在外比較溫順</p>
      <p class="mb-4"><span class="font-bold">（-）</span>有控制的慾望，會因為投機而不誠實，拖延 會因為不喜歡得罪別人~而掩飾自己的真正感受</p>
      
      <h3 class="text-xl font-semibold mb-2 text-red-600">好處在哪裡</h3>
      
      <h3 class="text-xl font-semibold mb-2">能量課題</h3>
      <p class="mb-4">有許多夢想與欲望，會努力工作追求金錢上的獨立， 在追求改變與擴張的過程中，常常不直接表現出來， 也不願意向別人說出自己的真正感受， 應學習著~對自己誠實，也對別人誠實。</p>
      
      <p><span class="font-bold">◎缺8：</span>若要做些什麼事，多問問做得好的人→幫我們看得更高、更遠</p>
    `,
    9: `
      <h2 class="text-2xl font-bold mb-4 text-green-700">生命靈數 9</h2>
      
      <h3 class="text-xl font-semibold mb-2">能量特質</h3>
      <p class="mb-2"><span class="font-bold">（+）</span>很有慈悲心與愛心，願意助人，付出不求回報，服務高手 學習能力很強，博學多聞，多才多藝，想像力很豐富 是個天生的夢想家，既理性又感性，既剛強又溫柔</p>
      <p class="mb-4"><span class="font-bold">（-）</span>夢想多，理想大，有時較不務實而缺乏執行力 在乎別人的感受，較不重視自己的利益，容易受人利用</p>
      
      <h3 class="text-xl font-semibold mb-2 text-red-600">沒問題</h3>
      
      <h3 class="text-xl font-semibold mb-2">能量課題</h3>
      <p class="mb-4">完全無私的奉獻，只求滿足別人，長久之後，若不得志，會因為付出多，回報少，而認為夢想遙不可及 若能從心理與精神層面去啟發別人的人生~天必助</p>
      
      <p><span class="font-bold">◎9多者：</span>學習勾勒願景→讓他人願意為共同的願景協助你完成夢想</p>
    `
  };

  const handleLifeLessonClick = () => {
    if (lifeLessonNumber >= 0 && lifeLessonNumber <= 9) {
      const description = lifeLessonDescriptions[lifeLessonNumber as keyof typeof lifeLessonDescriptions];
      setPopupContent(description);
    } else {
      setPopupContent(`未找到人生功課 ${lifeLessonNumber} 的相應描述`);
    }
    setShowPopup(true);
  };

  const handleLifeNumberClick = () => {
    const description = lifeNumberDescriptions[lifeNumber as keyof typeof lifeNumberDescriptions] || '未找到相應描述';
    setPopupContent(description);
    setShowPopup(true);
  };

  // 新增處理三者之合點擊的函數
  const handleTalentNumberClick = () => {
    const description = threeCombination[talentNumber as keyof typeof threeCombination] || '未找到相應描述';
    setPopupContent(description);
    setShowPopup(true);
  };

  const handleFromOthersEyesClick = () => {
    const description = fromOthersEyes[birthNumber as keyof typeof fromOthersEyes] || '未找到相應描述';
    setPopupContent(description);
    setShowPopup(true);
  };

  const linesMeanings = {
    '123': '藝術線／獨立線<br/><br/>創造力與執行力的象徵。<br/>擁有這條連線的人通常具有活潑、積極的個性，善於表達自己，並能將想法付諸實現。<br/>富有創新能力，能用直覺快速捕捉機會，並以行動力推動目標達成。<br/><br/>然而，這類人可能在面對長期計畫時缺乏耐性，容易因情緒波動而影響效率。<br/>透過專注訓練及團隊合作，可進一步發揮這條連線的優勢，實現更高的成就。',
    '147': '安全線／錢財線／物質線<br/><br/>穩定與實踐的象徵。<br/>擁有這條連線的人通常腳踏實地，注重細節，具備強大的執行力與耐心。<br/>擅長規劃與落實，追求穩定與安全，並能在結構化的環境中發揮最佳表現。<br/><br/>然而，可能過於重視規範，對變化較為保守。<br/>透過提升彈性與創意，能在適應多變環境的同時，發揮持續進步的潛力，成為團隊中的穩定力量。',
    '357': '人緣線／溝通線／八卦線<br/><br/>智慧與自由的平衡。<br/>擁有這條連線的人通常具有敏銳的洞察力、豐富的創造力和強烈的自由追求。<br/>您喜歡探索新事物，善於運用智慧解決問題，並以多元化的方式表達自我。<br/><br/>然而，您可能因追求自由而欠缺耐心，或在面對現實挑戰時不夠務實。<br/>透過建立穩定的目標和清晰的方向，您可以將靈活性和創意結合，創造出與眾不同的成就。',
    '456': '組織線／完美主義線<br/><br/>責任與關懷的橋樑。<br/>擁有這條連線的人通常具有強烈的責任感，並注重與他人建立深厚的連結。<br/>擅長處理實務，能妥善平衡個人與團體需求，並以穩定的心態應對挑戰。<br/>這些人通常是團隊中的核心支柱，能夠提供實際的支持和情感上的安慰。<br/><br/>然而，您可能因承擔過多責任而感到壓力，需學會適度放手，並尋求他人協助，實現身心平衡。',
    '258': '感情表達線／大嘴巴線<br/><br/>平衡與支持的能量。<br/>擁有這條連線的人通常具有優秀的人際溝通能力和高度的情感智慧，善於化解衝突，維繫和諧。<br/>追求公平與穩定，擅長在複雜的環境中找到平衡點，並為他人提供支持。<br/><br/>然而，可能因過於重視他人意見而忽略自身需求，或在面對重大決策時猶豫不決。<br/>透過建立自信心與界限感，您能充分發揮影響力，成為促進團隊與關係穩定的重要角色。',
    '159': '事業線／工作線<br/><br/>理想與實踐的融合。<br/>擁有這條連線的人通常充滿使命感，追求卓越與精神層面的提升。<br/>具有遠大的理想與堅定的信念，能以實際行動將夢想轉化為現實，並以自己的堅持影響周圍的人。<br/><br/>然而，可能因追求完美而感到壓力，或對他人的期待過高。<br/>透過平衡理想與現實，並保持靈活與包容，能成為啟發他人、實現大格局的領導者或改革者。',
    '789': '權力線／貴人線／靈性線<br/><br/>智慧與全局觀。<br/>擁有這條連線的人通常具有敏銳的洞察力和強大的直覺，能從全局角度看待問題，並快速做出決策。<br/>您追求精神成長與內心的平靜，並具備領導能力，能帶領他人朝著共同目標前進。<br/><br/>然而，可能因目標過於遠大而忽略細節，或在壓力下感到孤立。<br/>透過結合實際行動與細緻計劃，您能將遠見與智慧落實為實際成果，成為影響深遠的領袖。',
    '369': '智慧線／創意線／想像線<br/><br/>創造力愛與靈性的整合。<br/>擁有這條連線的人通常具備豐富的想像力、深厚的情感力量和強烈的精神追求。<br/>擅長將藝術表達、人際關懷和內在智慧融為一體，為周圍的人帶來啟發與溫暖。<br/><br/>然而，可能因情緒敏感而受環境影響，或在追求理想時忽略現實需求。<br/>透過穩定內心、平衡感性與理性，能充分發揮創意與靈性力量，成為傳遞愛與美好的使者。',
    '1590': '自然線／宗教因緣線<br/><br/>理想實踐與無限潛能的開展。<br/>擁有這條連線的人通常具有崇高的使命感和全局觀，擅長將遠大的目標結合實際行動，並以創新的方式影響他人。<br/>內心強大且充滿智慧，能在追求個人成就的同時，帶動群體的成長與改變。<br/><br/>然而，您可能因目標過於宏大而感到壓力，或因過於專注未來而忽略當下。<br/>透過穩定腳步並適時放鬆，您能釋放無限潛能，實現非凡的成就與影響力。'
  };

  const handleLineClick = (line: string) => {
    const meaning = linesMeanings[line as keyof typeof linesMeanings] || '未知含義';
    setPopupContent(`${line}: ${meaning}`);
    setShowPopup(true);
  };

  return (
    <div className="bg-blue-100 dark:bg-blue-900 p-4 rounded-lg shadow-md mb-1">
      <h2 className="text-xl font-bold mb-2 text-black dark:text-white">計算結果</h2>
      <ul className="space-y-2">
        <li className={`${getRowBackgroundColor(0)} p-2 rounded`}>
          <span className="font-semibold text-black dark:text-white">您的生日&nbsp;:</span>&nbsp;
          <span className="text-black dark:text-white">{birthdate}</span>
        </li>
        <li className={`${getRowBackgroundColor(1)} p-2 rounded cursor-pointer`} onClick={handleLifeNumberClick}>
          <span className="font-semibold text-black dark:text-white">生命密碼&nbsp;:</span>&nbsp;
          <span className="bg-red-500 text-white dark:bg-red-700 px-2 py-1 rounded">{lifeNumber}</span>&nbsp;&nbsp;<span className="text-blue-500 dark:text-blue-700">詳細內容</span>
        </li>
        <li className={`${getRowBackgroundColor(2)} p-2 rounded cursor-pointer`} onClick={handleTalentNumberClick}>
          <span className="font-semibold text-black dark:text-white">三者之合&nbsp;:</span>&nbsp;
          <span className="bg-white-500 text-black dark:bg-white-700 dark:text-white px-2 py-1 rounded">{talentNumber}</span>
          &nbsp;<span className="text-blue-500 dark:text-blue-700">詳細內容</span>
        </li>
        <li className={`${getRowBackgroundColor(3)} p-2 roundedcursor-pointer`} onClick={handleFromOthersEyesClick}>
          <span className="font-semibold text-black dark:text-white">別人眼中的你&nbsp;:</span>&nbsp;
          <span className="bg-white-500 text-black dark:bg-white-700 dark:text-white px-2 py-1 rounded">{birthNumber}</span>
          &nbsp;<span className="text-blue-500 dark:text-blue-700">詳細內容</span>
        </li>
        <li className={`${getRowBackgroundColor(4)} p-2 rounded cursor-pointer`} onClick={handleLifeLessonClick}>
          <span className="font-semibold text-black dark:text-white">人生功課數&nbsp;:</span>&nbsp;
          <span className="bg-white-500 text-black dark:text-white px-2 py-1 rounded">{lifeLessonNumber}</span>&nbsp;<span className="text-blue-500 dark:text-blue-700">詳細內容</span>
        </li>
        <li className={`${getRowBackgroundColor(5)} p-2 rounded`}>
          <span className="font-semibold text-black dark:text-white">補數&nbsp;:</span>&nbsp; 
          {emptyNumbers.map((num, index) => (
            <span key={index} className={`text-black dark:bg-white-700 dark:text-white px-2 py-1 rounded mx-1`}>
              {num}
            </span>
          ))}
        </li>
        <li className={`${getRowBackgroundColor(6)} p-2 rounded`}>
          <span className="font-semibold text-black dark:text-white">連線數：</span><span className="text-dark-500 dark:text-dark-700 ml-1">按數字顯示內容</span>
          <div className="flex flex-wrap items-center mt-1">
            {connectedLines.map((line, index) => (
              <span 
                key={index}
                className="cursor-pointer text-black dark:text-white px-2 py-1 rounded m-1 inline-block"
                onClick={() => handleLineClick(line)}
              >
                {line}
              </span>
            ))}
            
          </div>
          
        </li>
        
      </ul>

      {showPopup && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
          <div className="bg-white dark:bg-gray-800 p-6 rounded-lg w-[380px] max-h-[80vh] overflow-auto">
            <div dangerouslySetInnerHTML={{ __html: popupContent }} className="text-gray-800 dark:text-gray-200" />
            <div className="flex justify-center mt-4">
              <button 
                className="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm"
                onClick={() => setShowPopup(false)}
              >
                關 閉
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default ResultDisplay;
